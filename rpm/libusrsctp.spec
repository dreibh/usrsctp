Name: libusrsctp
Version: 1.0.0~td121
Release: 1
Summary: Portable SCTP Userland Stack
License: BSD
Group: Applications/Internet
URL: https://github.com/sctplib/usrsctp
Source: %{name}-%{version}.tar.gz

AutoReqProv: on
BuildRequires: cmake
BuildRoot: %{_tmppath}/%{name}-%{version}-build

%description
This is a userland SCTP stack supporting FreeBSD, Linux, Mac OS X and Windows.


%prep
%setup -q

%build
%cmake -DCMAKE_INSTALL_PREFIX=/usr .
make %{?_smp_mflags}

%install
make install DESTDIR=%{buildroot}

%files
/usr/lib/libusrsctp.so*


%package devel
Summary: Portable SCTP Userland Stack (Development Files)
Group: Development/Libraries
Requires: %{name} = %{version}-%{release}

%description devel
 This is a userland SCTP stack supporting FreeBSD, Linux, Mac OS X and Windows.
 This package contains the shared library for the Portable SCTP Userland Stack.

%files devel
/usr/include/usrsctp.h
/usr/lib//libusrsctp*.a
/usr/lib/libusrsctp*.so


%package examples
Summary: Portable SCTP Userland Stack (Examples)
Group: Applications/Internet
Requires: %{name} = %{version}-%{release}

%description examples
 This is a userland SCTP stack supporting FreeBSD, Linux, Mac OS X and Windows.
 This package contains the examples for the Portable SCTP Userland Stack.

%files examples
/usr/lib/libusrsctp/client
/usr/lib/libusrsctp/datachan_serv
/usr/lib/libusrsctp/daytime_server
/usr/lib/libusrsctp/discard_server
/usr/lib/libusrsctp/echo_server
/usr/lib/libusrsctp/ekr_client
/usr/lib/libusrsctp/ekr_loop
/usr/lib/libusrsctp/ekr_peer
/usr/lib/libusrsctp/ekr_server
/usr/lib/libusrsctp/http_client
/usr/lib/libusrsctp/rtcweb
/usr/lib/libusrsctp/test_libmgmt
/usr/lib/libusrsctp/test_timer
/usr/lib/libusrsctp/tsctp
/usr/lib/libusrsctp/http_client_upcall


%changelog
* Fri Dec 02 2016 Thomas Dreibholz <dreibh@simula.no> 1.0.0
- Initial RPM release
